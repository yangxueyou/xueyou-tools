### 解决方案

1. 通过 jsonp 跨域

2. 跨域资源共享（CORS)

3. nodejs 中间件代理跨域

4. nginx 反向代理中设置 proxycookiedomain

### 如何携带 cookie

1. 前端请求时在`request`对象中配置`"withCredentials": true；`
2. 服务端在`response`的`header`中配置`"Access-Control-Allow-Origin", "http://xxx:${port}";`
3. 服务端在`response`的`header`中配置`"Access-Control-Allow-Credentials", "true"`

```js
axios({
  withCredentials: true, // 请求需要配置这个
  method: "get",
  url: "http://localhost:8003/anotherService",
}).then((res) => {
  console.log(res);
});
```

```js
// 在所有路由前增加，可以拦截所有请求
app.all("*", (req, res, next) => {
  res.header("Access-Control-Allow-Origin", "http://localhost:8000"); // 需要配置
  res.header("Access-Control-Allow-Credentials", "true"); // 需要配置
  next();
});
```
