## package.json

```js
{
  "dependencies": {
    "foo": "1.0.0 - 2.9999.9999",
    "bar": ">=1.0.2 <2.1.2",
    "baz": ">1.0.2 <=2.3.4",
    "boo": "2.0.1",
    "qux": "<1.0.0 || >=2.3.1 <2.4.5 || >=2.5.2 <3.0.0",
    "asd": "http://asdf.com/asdf.tar.gz",
    "til": "~1.2",
    "elf": "~1.2.3",
    "two": "2.x",
    "thr": "3.3.x",
    "lat": "latest",
    "dyl": "file:../dyl"
  }
}
```

### è¯­ä¹‰åŒ–ç‰ˆæœ¬

- ä¸»ç‰ˆæœ¬å·ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
- æ¬¡ç‰ˆæœ¬å·ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ž
- ä¿®è®¢å·ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

- *ï¼šå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
- ^ï¼šå‡çº§æ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·
- ~ï¼šåªå‡çº§ä¿®è®¢å·


## NPM

### npm åŒ…ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®žè·µ

https://juejin.cn/post/6844903582337237006#heading-13
### npm link

ä½œç”¨ï¼šå°†npm æ¨¡å—é“¾æŽ¥åˆ°å¯¹åº”çš„è¿è¡Œé¡¹ç›®ä¸­åŽ»ï¼Œæ–¹ä¾¿åœ°å¯¹æ¨¡å—è¿›è¡Œè°ƒè¯•å’Œæµ‹è¯•

1. åˆ›å»º a b ä¸¤ä¸ªç›®å½•ï¼ˆmkdir a & mkdir bï¼‰ï¼Œå¹¶åˆå§‹åŒ–é¡¹ç›®ä¸ºnpmï¼ˆnpm init -yï¼‰
2. è¿›å…¥ a ç›®å½•ï¼Œåˆ›å»º index.jsï¼Œå†™ä¸€ä¸ª console.log('test')
3. åˆ›å»ºè½¯é“¾åˆ°å…¨å±€ `npm link`
4. å¦‚æžœæ˜¯å…¨å±€å¯æ‰§è¡Œçš„å°±ç›´æŽ¥å¯ä»¥ç”¨äº†ï¼Œä¾‹å¦‚ï¼šyo your-project
5. è¿›å…¥ b ç›®å½•ï¼Œ`npm link a`ï¼Œè¿™ä¸ªæ—¶å€™å°±è·Ÿæˆ‘ä»¬å®‰è£…å®Œä¾èµ–ä¸€æ ·äº†ï¼Œå°±ç›´æŽ¥å¯¼å…¥ä½¿ç”¨å°±å¯ä»¥äº†
6. è¿™ä¸ªæ—¶å€™ä¿®æ”¹ a ä¸‹é¢çš„å†…å®¹ï¼Œå‘çŽ° b ç›®å½•ä¸‹é¢çš„node_modulesé‡Œé¢çš„å†…å®¹ä¹Ÿæ˜¯éšæ—¶æ›´æ–°çš„

æ³¨æ„ï¼š`link` çš„æ—¶å€™è¦æ³¨æ„ä¸€ä¸‹ `package.json` é‡Œé¢çš„ `main` å­—æ®µçš„æŒ‡å‘ï¼Œå¯èƒ½`å¼•ç”¨è½¯é“¾çš„æ—¶å€™æ‰¾ä¸åˆ°å†…å®¹`ï¼Œæ¯”å¦‚è¿™ä¸ªé¡¹ç›®ä½ åªæœ‰æ‰“åŒ…ä¹‹åŽæ‰èƒ½äº§ç”Ÿè¿™ä¸ªæ–‡ä»¶
 
### npm unlink

é€šè¿‡ `npm unlink [package.json.name]`

å¦‚æžœä¸Šé¢å‘½ä»¤ä¸è¡Œçš„è¯,åŽ»ç³»ç»Ÿé‡Œæ‰¾åˆ°è¯¥åŒ…ï¼Œè¿›è¡Œåˆ é™¤

```js
where npm

cd ../

cd lib

cd node_modules

ls
// æˆ‘æ˜¯macä¸Šçš„ï¼Œè¿™ä¸ªç›®å½•ä¸‹èƒ½æ‰¾åˆ°è¯¥åŒ…ï¼Œç„¶åŽè¿›è¡Œåˆ é™¤ï¼Œç„¶åŽé‡æ–°å®‰è£…å°±å¯ä»¥ä½¿ç”¨å·²ç»å‘å¸ƒçš„äº†
/Users/xueyou/.nvm/versions/node/v16.13.1/lib/node_modules 
```

### npm scripts

https://juejin.cn/post/6844903582337237006#heading-14

### npx

https://juejin.cn/post/6844903582337237006#heading-17


### npmrc æ–‡ä»¶

https://juejin.cn/post/6844903582337237006#heading-23



## Yarn

Yarn æ˜¯åœ¨2016å¹´å¼€æºçš„ï¼Œyarn çš„å‡ºçŽ°æ˜¯ä¸ºäº†è§£å†³ npm v3 ä¸­çš„å­˜åœ¨çš„ä¸€äº›é—®é¢˜ï¼Œé‚£æ—¶ npm v5 è¿˜æ²¡å‘å¸ƒã€‚Yarn è¢«å®šä¹‰ä¸ºå¿«é€Ÿã€å®‰å…¨ã€å¯é çš„ä¾èµ–ç®¡ç†ã€‚

### Yarn lock vs. npm lock

- æ–‡ä»¶æ ¼å¼ä¸åŒï¼Œnpm v5 ä½¿ç”¨çš„æ˜¯ json æ ¼å¼ï¼Œyarn ä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰æ ¼å¼
- package-lock.json æ–‡ä»¶é‡Œè®°å½•çš„ä¾èµ–çš„ç‰ˆæœ¬éƒ½æ˜¯ç¡®å®šçš„ï¼Œä¸ä¼šå‡ºçŽ°è¯­ä¹‰åŒ–ç‰ˆæœ¬èŒƒå›´ç¬¦å·(~ ^ *)ï¼Œè€Œ yarn.lock æ–‡ä»¶é‡Œä»ç„¶ä¼šå‡ºçŽ°è¯­ä¹‰åŒ–ç‰ˆæœ¬èŒƒå›´ç¬¦å·
- package-lock.json æ–‡ä»¶å†…å®¹æ›´ä¸°å¯Œï¼Œå®žçŽ°äº†æ›´å¯†é›†çš„é”æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­ä¾èµ–çš„æå‡ä¿¡æ¯
  - npm v5 åªéœ€è¦ package.lock æ–‡ä»¶å°±å¯ä»¥ç¡®å®š node_modules ç›®å½•ç»“æž„
  - yarn.lock æ— æ³•ç¡®å®šé¡¶å±‚ä¾èµ–ï¼Œéœ€è¦ package.json å’Œ yarn.lock ä¸¤ä¸ªæ–‡ä»¶æ‰èƒ½ç¡®å®š node_modules ç›®å½•ç»“æž„ã€‚node_modules ç›®å½•ä¸­ package çš„ä½ç½®æ˜¯åœ¨ yarn çš„å†…éƒ¨è®¡ç®—å‡ºæ¥çš„ï¼Œåœ¨ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ yarn æ—¶å¯èƒ½ä¼šå¼•èµ·ä¸ç¡®å®šæ€§ã€‚


### Yarn v2 Plug'n'Play

åœ¨Yarn çš„2.xç‰ˆæœ¬é‡ç‚¹æŽ¨å‡ºäº†Plug'n'Playï¼ˆPnPï¼‰é›¶å®‰è£…æ¨¡å¼ï¼Œæ”¾å¼ƒäº†node_modulesï¼Œæ›´åŠ ä¿è¯ä¾èµ–çš„å¯é æ€§ï¼Œæž„å»ºé€Ÿåº¦ä¹Ÿå¾—åˆ°æ›´å¤§çš„æå‡ã€‚

- ä¼˜ï¼šæ‘†è„±node_modulesï¼Œå®‰è£…ã€æ¨¡å—é€Ÿåº¦åŠ è½½å¿«ï¼›æ‰€æœ‰ npm æ¨¡å—éƒ½ä¼šå­˜æ”¾åœ¨å…¨å±€çš„ç¼“å­˜ç›®å½•ä¸‹ï¼Œé¿å…å¤šé‡ä¾èµ–ï¼›ä¸¥æ ¼æ¨¡å¼ä¸‹å­ä¾èµ–ä¸ä¼šæå‡ï¼Œä¹Ÿé¿å…äº†å¹½çµä¾èµ–ï¼ˆä½†è¿™å¯èƒ½ä¼šå¯¼è‡´æŸäº›åŒ…å‡ºçŽ°é—®é¢˜ï¼Œå› æ­¤ä¹Ÿæ”¯æŒäº†ä¾èµ–æå‡çš„å®½æ¾æ¨¡å¼:<ï¼‰ã€‚
- ç¼ºï¼šè‡ªå»ºresolver å¤„ç†Node requireæ–¹æ³•ï¼Œæ‰§è¡ŒNodeæ–‡ä»¶éœ€è¦é€šè¿‡yarn nodeè§£é‡Šå™¨æ‰§è¡Œï¼Œè„±ç¦»NodeçŽ°å­˜ç”Ÿæ€ï¼Œå…¼å®¹æ€§ä¸å¤ªå¥½


## pnpm


## cnpm å’Œ tnpm

cnpm/tnpmçš„ä¾èµ–ç®¡ç†æ˜¯å€Ÿé‰´äº†pnpm ï¼Œé€šè¿‡ç¬¦å·é“¾æŽ¥æ–¹å¼åˆ›å»ºéžæ‰å¹³åŒ–çš„node_modulesç»“æž„ï¼Œæœ€å¤§é™åº¦æé«˜äº†å®‰è£…é€Ÿåº¦

## å‚è€ƒ

npm Docsï¼šhttps://docs.npmjs.com/cli/v8/configuring-npm/package-json

å…³äºŽä¾èµ–ç®¡ç†çš„çœŸç›¸ â€” å‰ç«¯åŒ…ç®¡ç†å™¨æŽ¢ç©¶ï¼šhttps://mp.weixin.qq.com/s/vcwgJ-5bkblNmZp5Iz4bxw

2018 å¹´äº†ï¼Œä½ è¿˜æ˜¯åªä¼š npm install å—ï¼Ÿï¼šhttps://juejin.cn/post/6844903582337237006#heading-25

2222 å¹´äº†ï¼Œæ€»ä¸èƒ½è¿˜åªä¼š npm i å§?ðŸ”¥ï¼šhttps://juejin.cn/post/7069701706606444551